!function(t,e){"use strict";var n,a,i,o="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),g={count:0,event:0},s=function(t,n){var a=n.originalEvent,i=e.Event(a);i.type=t;for(var o=0,c=u.length;c>o;o++)i[u[o]]=n[u[o]];return i},p=function(t){if(t.isTrigger)return!1;var n=g.event,a=Math.abs(t.pageX-n.pageX),i=Math.abs(t.pageY-n.pageY),o=Math.max(a,i);return t.timeStamp-n.timeStamp<e.tap.TIME_DELTA&&o<e.tap.POSITION_DELTA&&(!n.touches||1===g.count)&&T.isTracking},l=function(t){if(!i)return!1;var n=Math.abs(t.pageX-i.pageX),a=Math.abs(t.pageY-i.pageY),o=Math.max(n,a);return Math.abs(t.timeStamp-i.timeStamp)<750&&o<e.tap.POSITION_DELTA},h=function(t){if(0===t.type.indexOf("touch")){t.touches=t.originalEvent.changedTouches;for(var e=t.touches[0],n=0,a=u.length;a>n;n++)t[u[n]]=e[u[n]]}t.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||(T.isEnabled=!0,n=e(t.body).on("touchstart"+o,T.onStart).on("mousedown"+o,T.onStart).on("click"+o,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(o))},onStart:function(t){t.isTrigger||(h(t),(!e.tap.LEFT_BUTTON_ONLY||t.touches||1===t.which)&&(t.touches&&(g.count=t.touches.length),T.isTracking||(t.touches||!l(t))&&(T.isTracking=!0,g.event=t,t.touches?(i=t,n.on("touchend"+o+c,T.onEnd).on("touchcancel"+o+c,T.onCancel)):n.on("mouseup"+o+c,T.onEnd))))},onEnd:function(t){var n;t.isTrigger||(h(t),p(t)&&(n=s(r,t),a=n,e(g.event.target).trigger(n)),T.onCancel(t))},onCancel:function(t){t&&"touchcancel"===t.type&&t.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(t){return!t.isTrigger&&a&&a.isDefaultPrevented()&&a.target===t.target&&a.pageX===t.pageX&&a.pageY===t.pageY&&t.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};e(t).ready(T.enable),e.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);
var Twc=Twc||{};Twc.Tooltip=function(){function t(t){window.clearTimeout(t)}function o(){$("."+n).hide()}function e(t){try{}catch(o){}}var i="js-tooltip-initialized",n="tooltip-popup",p=$('<style type="text/css" title="js-tooltips"></style>'),c=".tooltip-popup.top .tooltip-content:before, .tooltip-popup.top .tooltip-wrap:before, .tooltip-popup.top .tooltip-wrap:after, .tooltip-popup.bottom .tooltip-content:before, .tooltip-popup.bottom .tooltip-wrap:before, .tooltip-popup.bottom .tooltip-wrap:after";return{init:function(l){try{if("undefined"==typeof l||!(l instanceof jQuery))return;var r=$(window);$("head").append(p),l.each(function(e){function l(){h=window.setTimeout(function(){b.stop(!0,!0).fadeOut(1200,function(){a()})},500)}function a(){b.hide(),w=!1}function s(t){try{return"undefined"!=typeof t?$.parseJSON(t):{}}catch(o){return{}}}function u(){b.stop(!0,!0),o(),b.css("opacity",1);var t={height:r.height(),width:r.width(),scrollTop:$(window).scrollTop(),yBottom:r.height+$("html").scrollTop()},e={};e.h=f.outerHeight(!0),e.w=f.outerWidth(!0),e.top=f.offset().top,e.left=f.offset().left;var i={};i.h=b.outerHeight(!0),i.w=b.outerWidth(!0);var n=r.height()+r.scrollTop(),l=e.top+e.h+i.h;i.top=l>=n?e.top-i.h:e.top+e.h,b.removeClass("top bottom").addClass(l>=n?"bottom":"top");var a=e.left-(i.w/2-e.w/2),s=a+i.w;if(i.w>t.width||0>a){var u=e.left+e.w/2;p.html(c+" {left: "+u+"px;}"),a=0}else if(s>t.width){a=t.width-i.w;var u=e.left+e.w/2-a;p.html(c+" {left: "+u+"px;}"),a+="px"}else p.empty();b.css({position:"absolute",top:i.top,left:a}),b.fadeIn(200,function(){$(this).hover()}),w=!0}var f=$(this);if(f.hasClass(i))return!0;var d=s(f.attr("data-tooltip"));if("undefined"==typeof d.body)return!0;var h,w=!1,v=d.heading?"<header>"+unescape(d.heading)+"</header>":"",m=unescape(d.body)||"",y=!1,b=$('<div class="'+n+' top"><div class="tooltip-content"><div class="tooltip-wrap">'+v+m+"</div></div></div>").on("mouseover",function(o){t(h)}).on("mouseout",function(){l()}).click(function(t){t.stopPropagation()});b.find(".close").click(function(t){t.preventDefault(),a()}),f.click(function(t){return t.stopPropagation(),!1}).on("click mouseover",function(){t(h),w||(y?u():($("body").append(b.css("opacity",0).show()),y=!0,window.setTimeout(function(){u()},0)))}).on("mouseout",function(){l()}),f.addClass(i)})}catch(a){console,e(a),e(a.stack),console}}}}();